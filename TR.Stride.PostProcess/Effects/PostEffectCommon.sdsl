shader PostEffectCommon
{
    float CalculateLuminance(float3 c)
    {
        return dot(c, float3(0.2127f, 0.7152f, 0.0721f));
    }

    float3 SimpleToneMap(float3 c)
    {
        return c * rcp(1.0f + CalculateLuminance(c));
    }

    float3 InvSimpleToneMap(float3 c)
    {
        return c * rcp(max(1.0f - CalculateLuminance(c), 0.0000061f));
    }
};